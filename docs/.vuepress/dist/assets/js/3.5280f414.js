(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{317:function(t,e,a){"use strict";a.r(e);var s=a(318),c=a.n(s);for(var v in s)"default"!==v&&function(t){a.d(e,t,(function(){return s[t]}))}(v);e.default=c.a},318:function(t,e){},351:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return c}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"总览"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总览"}},[t._v("#")]),t._v(" 总览")]),t._v(" "),a("p",[t._v("我们将小程序开发分为 2 个环境，不同的环境下依赖和更新机制有所不同。")]),t._v(" "),a("h3",{attrs:{id:"本地开发"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#本地开发"}},[t._v("#")]),t._v(" 本地开发")]),t._v(" "),a("p",[t._v("本地开发时，脱离了客户端容器，所以一切都无效了。但同时我们想达和到开发 h5 时的效果直出，所以本地开发用的是 "),a("code",[t._v("public/index-local.html")]),t._v(" 模版，模版中引用了在线的基础库资源，保证了你本地的版本始终是最新的。")]),t._v(" "),a("p",[t._v("其中，本地开发依赖的 3 个基础库（会有版本节奏的更新）")]),t._v(" "),a("link",{attrs:{rel:"stylesheet",href:t.$withBase("/sdk/xmbase.css")}}),t._v(" "),a("link",{attrs:{rel:"stylesheet",href:t.$withBase("/sdk/xmcard.css")}}),t._v(" "),a("ul",[a("li",[t._v("小程序 sdk  "),a("a",{attrs:{href:"/sdk/xmmp.min.js"}},[t._v("xmmp.min.js")])]),t._v(" "),a("li",[t._v("卡片基础组件库 "),a("a",{attrs:{href:"/sdk/xmbase.min.js"}},[t._v("xmbase.min.js")]),t._v(" "),a("a",{attrs:{href:"/sdk/xmbase.css"}},[t._v("xmbase.css")])]),t._v(" "),a("li",[t._v("卡片容器 sdk "),a("a",{attrs:{href:"/sdk/xmcard.min.js"}},[t._v("xmcard.min.js")]),t._v(" "),a("a",{attrs:{href:"/sdk/xmcard.css"}},[t._v("xmcard.css")])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("开启 vpn 访问这些资源会更快，如果没有，建议将资源下载到本地 "),a("code",[t._v("/public")]),t._v(" 目录")])]),t._v(" "),a("h3",{attrs:{id:"打包提交到后台"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#打包提交到后台"}},[t._v("#")]),t._v(" 打包提交到后台")]),t._v(" "),a("p",[t._v("基于客户端，我们有一套 sdk 的更新机制，例如：")]),t._v(" "),a("ul",[a("li",[t._v("通过 "),a("code",[t._v("shinemosdk://")]),t._v(" 协议直接引用后台最新的资源包")]),t._v(" "),a("li",[t._v("在 "),a("code",[t._v("main.js")]),t._v(" 中，通过 "),a("code",[t._v("xm.sourceCheck")]),t._v(" 校验业务卡片的版本")])]),t._v(" "),a("p",[t._v("所以打包后的代码是不会有任何依赖包注入的，只需要包含依赖的"),a("strong",[t._v("业务卡片 ID")])]),t._v(" "),a("h3",{attrs:{id:"维护清单"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#维护清单"}},[t._v("#")]),t._v(" 维护清单")]),t._v(" "),a("p",[t._v("我们整套开发流程所涉及的包、工具、模版如下：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("内容")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("模块")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("图表")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("echarts")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("小程序 sdk")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("xmmp")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("基础组件库")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("xmbase")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("基础组件清单")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("卡片容器 sdk")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("xmcard")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("卡片操作")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("命令行工具")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("xmmp-cli")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("npm i -g xmmp-cli")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("卡片开发模版")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("card-template")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("xmmp create card <name> <appId>")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("小程序开发模版")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("mp-template")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("xmmp create mp <name>")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("卡片预览小程序")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("card-preview")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("后台点击预览，扫码打开的地址")])])])])])},c=[]},352:function(t,e,a){"use strict";a.r(e);var s=a(351),c=a(317);for(var v in c)"default"!==v&&function(t){a.d(e,t,(function(){return c[t]}))}(v);var r=a(42),n=Object(r.a)(c.default,s.a,s.b,!1,null,null,null);e.default=n.exports}}]);